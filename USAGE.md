# 奶茶卡路里管理任务系统 - ���用说明

## 快速开始

### 1. 环境准备
- 确保已安装 Node.js 18+
- 确保已安装 pnpm 或 npm
- 准备 Supabase 账户和项目

### 2. 安装和配置
\`\`\`bash
# 安装依赖
pnpm install

# 配置环境变量
# 创建 .env.local 文件并添加以下内容：
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# 初始化数据库
# 在 Supabase SQL 编辑器中执行 scripts/create-tea-calorie-system.sql

# 启动开发服务器
pnpm dev
\`\`\`

### 3. 访问应用
打开浏览器访问 http://localhost:3000

## 功能使用指南

### 用户注册
1. 点击首页的"注册"按钮
2. 输入用户名和密码（密码至少6位）
3. 点击"注册"完成账户创建
4. 系统自动跳转到个人信息填写页面
5. 填写体重、身高、年龄和奶茶甜度偏好
6. 点击"完成设置"，系统自动初始化任务列表

### 用户登录
1. 点击首页的"登录"按钮
2. 输入用户名和密码
3. 点击"登录"进入系统
4. 登录成功后自动跳转到主页

### 任务管理
1. 在主页查看按阶段分组的任务列表
2. 每个任务显示标题、描述和完成状态
3. 点击"标记完成"按钮完成任务
4. 已完成的任务显示绿色背景和完成时间
5. 可以重新点击按钮取消完成状态

### 个人信息管理
1. 点击主页右上角的"个人资料"按钮
2. 查看当前个人信息
3. 点击"编辑信息"进入编辑模式
4. 修改体重、身高、年龄或甜度偏好
5. 点击"保存"提交更改，或点击"取消"放弃更改

### 退出登录
1. 点击主页右上角的"退出登录"按钮
2. 系统清除登录状态并返回首页

## 任务说明

### 第一阶段：基础认知建立
- **任务1**: 列出常喝奶茶及疑���
- **任务2**: 创建奶茶热量记录表格  
- **任务3**: 查阅每日卡路里摄入标准

### 第二阶段：数据收集与记录
- **任务4**: 连续3天记录奶茶信息
- **任务5**: 获取配料热量数据

### 第三阶段：分析与调整
- **任务6**: 创建热量对比表
- **任务7**: 撰写摄入分析初稿
- **任务8**: 获取优化建议
- **任务9**: 制定摄入计划

## 技术特性

### 数据库设计
- 用户表：存储用户基本信息和认证数据
- 阶段表：定义任务阶段（公共表）
- 任务模板表：定义任务内容（公共表）
- 用户任务表：关联用户和任务，记录完成状态
- 奶茶记录表：存储用户奶茶消费记录

### 安全特性
- 密码MD5加密存储
- 用户输入验证和错误处理
- 登录状态管理

### 用户体验
- 响应式设计，支持移动端
- 现代化UI界面
- 直观的任务管理界面
- 实时状态更新

## 注意事项

1. **Demo模式**: 本系统为演示版本，已禁用数据库行级安全
2. **密码安全**: 使用MD5加密，生产环境建议升级
3. **数据持久化**: 用户数据存储在Supabase数据库中
4. **浏览器兼容**: 建议使用现代浏览器访问

## 故障排除

### 常见问题

**Q: 无法连接到数据库**
A: 检查环境变量配置是否正确，确保Supabase项目正常运行

**Q: 注册失败**
A: 检查用户名是否已存在，密码是否符合要求（至少6位）

**Q: 登录失败**
A: 确认用户名和密码正确，检查网络连接

**Q: 任务无法更新**
A: 检查用户登录状态，刷新页面重试

### 技术支持
如遇到其他问题，请检查浏览器控制台错误信息或联系技术支持。
