# TeaCal 故障排除指南

## 登录问题解决方案

### 问题描述
注册后退出登录，再次登录时显示"用户名或密码错误"，无法登录。

### 原因分析
这个问题通常由以下原因导致：
1. 密码哈希算法不一致
2. 本地存储数据损坏
3. 浏览器缓存问题
4. 系统更新导致的数据格式不兼容

### 解决方案

#### 方案1：使用内置调试工具
1. 打开登录页面
2. 点击 🔍 按钮查看调试信息
3. 根据提示信息进行相应操作

#### 方案2：使用控制台调试工具
1. 按 F12 打开开发者工具
2. 切换到 Console 标签页
3. 运行以下命令：
\`\`\`javascript
// 运行所有检查
debugAuth.runAllChecks()

// 检查用户数据
debugAuth.checkStoredUsers()

// 模拟登录测试
debugAuth.simulateLogin('你的用户名', '你的密码')
\`\`\`

#### 方案3：使用快速修复工具
1. 在控制台运行：
\`\`\`javascript
// 检查并修复用户数据
fixLogin.fixUserData()

// 修复特定用户的密码
fixLogin.fixUserPassword('你的用户名', '你的密码')

// 测试登录
fixLogin.testLogin('你的用户名', '你的密码')
\`\`\`

#### 方案4：手动清除数据
如果上述方法都不行，可以手动清除所有数据：
\`\`\`javascript
// 清除所有本地存储数据
localStorage.clear()

// 刷新页面
location.reload()
\`\`\`

### 预防措施
1. 定期备份重要数据
2. 避免在多个浏览器间切换使用
3. 保持浏览器版本更新
4. 定期清理浏览器缓存

### 技术支持
如果问题仍然存在，请：
1. 检查浏览器控制台的错误信息
2. 记录具体的错误步骤
3. 提供浏览器版本和操作系统信息
4. 联系技术支持团队

### 常见错误代码
- `用户名或密码错误`：认证失败，检查用户名和密码
- `用户不存在`：用户名输入错误或用户数据丢失
- `密码验证失败`：密码哈希不匹配，需要重新设置密码
- `数据格式问题`：系统更新导致的数据不兼容

### 系统要求
- 现代浏览器（Chrome 80+, Firefox 75+, Safari 13+）
- 启用 JavaScript
- 启用本地存储
- 稳定的网络连接（如果使用 Supabase）
